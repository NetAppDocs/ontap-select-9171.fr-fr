---
sidebar: sidebar 
permalink: concept_stor_concepts_chars.html 
keywords: ontap select, storage concepts 
summary: Découvrez les concepts généraux de stockage qui s’appliquent à l’environnement ONTAP Select avant d’explorer les composants de stockage spécifiques. 
---
= Stockage ONTAP Select : concepts généraux et caractéristiques
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Découvrez les concepts généraux de stockage qui s’appliquent à l’environnement ONTAP Select avant d’explorer les composants de stockage spécifiques.



== Phases de configuration du stockage

Les principales phases de configuration du stockage hôte ONTAP Select incluent les suivantes :

* Prérequis avant le déploiement
+
** Assurez-vous que chaque hôte hyperviseur est configuré et prêt pour un déploiement ONTAP Select .
** La configuration implique les disques physiques, les contrôleurs et groupes RAID, les LUN, ainsi que la préparation réseau associée.
** Cette configuration est effectuée en dehors d' ONTAP Select.


* Configuration à l'aide de l'utilitaire administrateur de l'hyperviseur
+
** Vous pouvez configurer certains aspects du stockage à l’aide de l’utilitaire d’administration de l’hyperviseur (par exemple, vSphere dans un environnement VMware).
** Cette configuration est effectuée en dehors d' ONTAP Select.


* Configuration à l'aide de l'utilitaire d'administration ONTAP Select Deploy
+
** Vous pouvez utiliser l’utilitaire d’administration Déployer pour configurer les structures de stockage logique principales.
** Cela est effectué soit explicitement via des commandes CLI, soit automatiquement par l'utilitaire dans le cadre d'un déploiement.


* Configuration post-déploiement
+
** Une fois le déploiement ONTAP Select terminé, vous pouvez configurer le cluster à l'aide de l'interface de ligne de commande ONTAP ou du Gestionnaire système.
** Cette configuration est effectuée en dehors d' ONTAP Select Deploy.






== Stockage géré ou non géré

Le stockage accessible et directement contrôlé par ONTAP Select est un stockage géré. Tout autre stockage sur le même hôte hyperviseur est un stockage non géré.



=== Stockage physique homogène

Tous les disques physiques composant le stockage géré ONTAP Select doivent être homogènes. Autrement dit, tout le matériel doit être identique sur les points suivants :

* Type (SAS, NL-SAS, SATA, SSD)
* Vitesse (tr/min)




== Illustration de l'environnement de stockage local

Chaque hôte hyperviseur contient des disques locaux et d'autres composants de stockage logiques utilisables par ONTAP Select. Ces composants de stockage sont organisés en couches, à partir du disque physique.

image:ST_01.jpg["environnement de stockage local"]



=== Caractéristiques des composants de stockage local

Plusieurs concepts s'appliquent aux composants de stockage local utilisés dans un environnement ONTAP Select . Familiarisez-vous avec ces concepts avant de préparer un déploiement ONTAP Select . Ils sont classés par catégorie : groupes RAID et LUN, pools de stockage et disques virtuels.



==== Regroupement des disques physiques en groupes RAID et LUN

Un ou plusieurs disques physiques peuvent être connectés localement au serveur hôte et mis à disposition d' ONTAP Select. Ces disques physiques sont affectés à des groupes RAID, qui sont ensuite présentés au système d'exploitation hôte de l'hyperviseur sous la forme d'un ou plusieurs LUN. Chaque LUN est présenté au système d'exploitation hôte de l'hyperviseur comme un disque dur physique.

Lors de la configuration d'un hôte ONTAP Select , vous devez tenir compte des éléments suivants :

* Tout le stockage géré doit être accessible via un seul contrôleur RAID
* Selon le fournisseur, chaque contrôleur RAID prend en charge un nombre maximal de disques par groupe RAID




==== Un ou plusieurs groupes RAID

Chaque hôte ONTAP Select doit disposer d'un seul contrôleur RAID. Il est recommandé de créer un seul groupe RAID pour ONTAP Select. Cependant, dans certaines situations, il peut être judicieux d'en créer plusieurs. Se référer àlink:reference_plan_best_practices.html["Résumé des meilleures pratiques"] .



=== Considérations relatives aux pools de stockage

Il existe plusieurs problèmes liés aux pools de stockage dont vous devez être conscient dans le cadre de la préparation du déploiement ONTAP Select.


NOTE: Dans un environnement VMware, un pool de stockage est synonyme de banque de données VMware.



==== Pools de stockage et LUN

Chaque LUN est considéré comme un disque local sur l'hôte hyperviseur et peut faire partie d'un pool de stockage. Chaque pool de stockage est formaté avec un système de fichiers exploitable par le système d'exploitation hôte hyperviseur.

Vous devez vous assurer que les pools de stockage sont correctement créés dans le cadre d'un déploiement ONTAP Select . Vous pouvez créer un pool de stockage à l'aide de l'outil d'administration de l'hyperviseur. Par exemple, avec VMware, vous pouvez utiliser le client vSphere pour créer un pool de stockage. Ce pool est ensuite transmis à l'utilitaire d'administration ONTAP Select Deploy.



=== Gérer les disques virtuels sur ESXi

Il existe plusieurs problèmes liés aux disques virtuels dont vous devez être conscient dans le cadre de la préparation du déploiement ONTAP Select.



==== Disques virtuels et systèmes de fichiers

La machine virtuelle ONTAP Select se voit allouer plusieurs disques virtuels. Chaque disque virtuel est en réalité un fichier contenu dans un pool de stockage et géré par l'hyperviseur. ONTAP Select utilise plusieurs types de disques, principalement des disques système et des disques de données.

Vous devez également être conscient des points suivants concernant les disques virtuels :

* Le pool de stockage doit être disponible avant que les disques virtuels puissent être créés.
* Les disques virtuels ne peuvent pas être créés avant la création de la machine virtuelle.
* Vous devez vous fier à l’utilitaire d’administration ONTAP Select Deploy pour créer tous les disques virtuels (c’est-à-dire qu’un administrateur ne doit jamais créer un disque virtuel en dehors de l’utilitaire Deploy).




==== Configuration des disques virtuels

Les disques virtuels sont gérés par ONTAP Select. Ils sont créés automatiquement lors de la création d'un cluster à l'aide de l'utilitaire d'administration Deploy.



== Illustration de l'environnement de stockage externe sur ESXi

La solution vNAS ONTAP Select permet à ONTAP Select d'utiliser des banques de données hébergées sur un stockage externe à l'hôte hyperviseur. Ces banques de données sont accessibles via le réseau via VMware vSAN ou directement sur une baie de stockage externe.

ONTAP Select peut être configuré pour utiliser les types suivants de banques de données réseau VMware ESXi qui sont externes à l'hôte hyperviseur :

* vSAN (SAN virtuel)
* VMFS
* NFS




=== magasins de données vSAN

Chaque hôte ESXi peut disposer d'un ou plusieurs datastores VMFS locaux. Normalement, ces datastores ne sont accessibles qu'à l'hôte local. Cependant, VMware vSAN permet à chaque hôte d'un cluster ESXi de partager tous les datastores du cluster comme s'ils étaient locaux. La figure suivante illustre comment vSAN crée un pool de datastores partagés entre les hôtes du cluster ESXi.

image:ST_02.jpg["cluster ESXi"]



=== Banque de données VMFS sur une baie de stockage externe

Vous pouvez créer une banque de données VMFS résidant sur une baie de stockage externe. L'accès au stockage s'effectue via différents protocoles réseau. La figure suivante illustre une banque de données VMFS sur une baie de stockage externe accessible via le protocole iSCSI.


NOTE: ONTAP Select prend en charge toutes les baies de stockage externes décrites dans la documentation de compatibilité VMware Storage/SAN, y compris iSCSI, Fiber Channel et Fiber Channel sur Ethernet.

image:ST_03.jpg["Hôte hyperviseur ESXi"]



=== Banque de données NFS sur une baie de stockage externe

Vous pouvez créer une banque de données NFS résidant sur une baie de stockage externe. L'accès au stockage s'effectue via le protocole réseau NFS. La figure suivante illustre une banque de données NFS sur un stockage externe accessible via le serveur NFS.

image:ST_04.jpg["Hôte hyperviseur ESXi"]
